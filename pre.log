INFO: Logging initialized
INFO: File: 'pre.py'. Start time: Mon May 31 16:07:43 2021
INFO: 
 **Getting user arguments from the command line**
INFO: buildings_processor = False
INFO: curve_processor = False
INFO: erate_processor = False
INFO: plant_loops_processor = False
INFO: reset = False
INFO: transfer = True
INFO: input_path = C:\GitHub\ctes_opt\mines_example/
INFO: segments = 3
INFO: ts_opt = 1
INFO: 
 **Parsing the districts assignments file**
INFO: {'Berthoud': {'plant_loop': 'CP6'}, 'Brown': {'plant_loop': 'CP6'}, 'Coolbaugh': {'plant_loop': 'CP7'}, 'CoorsTek': {'plant_loop': 'CP6'}, 'Elm': {'plant_loop': 'CP6'}, 'Hill': {'plant_loop': 'CP7'}, 'Maple': {'plant_loop': 'CP6'}, 'Starzer': {'plant_loop': 'CP6'}, 'Weaver': {'plant_loop': 'CP6'}}
INFO: {'CP6': {}, 'CP7': {}}
INFO: 
 **Getting the weather file**
INFO: **Obtaining temperatures from weather file**
INFO: The following data was extracted from the weather file:
INFO:  * 8760 wetbulb temperatures
INFO:  * 8760 drybulb temperatures
INFO: Weather file: C:\GitHub\ctes_opt\mines_example/building_sim\2019 NREL Wx.epw
INFO: 
 **Performing the building file pre-processor**
INFO: 
 Loading Berthoud...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 196.95
INFO:  Total Electric Energy [MWh]: 844.53
INFO:  Peak Cooling Thermal Load [kWt]: 361.37
INFO:  Total Cooling Thermal Energy [MWht]: 518.86
INFO:  Maximum district cooling mass flow rate [kg/s]: 20.08
INFO: 
 Loading Brown...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 432.78
INFO:  Total Electric Energy [MWh]: 2037.24
INFO:  Peak Cooling Thermal Load [kWt]: 987.92
INFO:  Total Cooling Thermal Energy [MWht]: 1364.23
INFO:  Maximum district cooling mass flow rate [kg/s]: 40.51
INFO: 
 Loading Coolbaugh...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 485.47
INFO:  Total Electric Energy [MWh]: 2053.09
INFO:  Peak Cooling Thermal Load [kWt]: 951.06
INFO:  Total Cooling Thermal Energy [MWht]: 955.06
INFO:  Maximum district cooling mass flow rate [kg/s]: 35.8
INFO: 
 Loading CoorsTek...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 285.84
INFO:  Total Electric Energy [MWh]: 1675.37
INFO:  Peak Cooling Thermal Load [kWt]: 637.15
INFO:  Total Cooling Thermal Energy [MWht]: 2473.73
INFO:  Maximum district cooling mass flow rate [kg/s]: 69.39
INFO: 
 Loading Elm...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 383.53
INFO:  Total Electric Energy [MWh]: 1630.31
INFO:  Peak Cooling Thermal Load [kWt]: 702.77
INFO:  Total Cooling Thermal Energy [MWht]: 863.65
INFO:  Maximum district cooling mass flow rate [kg/s]: 41.32
INFO: 
 Loading Hill...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 534.82
INFO:  Total Electric Energy [MWh]: 3053.98
INFO:  Peak Cooling Thermal Load [kWt]: 814.75
INFO:  Total Cooling Thermal Energy [MWht]: 2166.82
INFO:  Maximum district cooling mass flow rate [kg/s]: 20.5
INFO: 
 Loading Maple...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 143.14
INFO:  Total Electric Energy [MWh]: 549.89
INFO:  Peak Cooling Thermal Load [kWt]: 253.23
INFO:  Total Cooling Thermal Energy [MWht]: 279.77
INFO:  Maximum district cooling mass flow rate [kg/s]: 19.63
INFO: 
 Loading Starzer...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 79.38
INFO:  Total Electric Energy [MWh]: 351.32
INFO:  Peak Cooling Thermal Load [kWt]: 163.19
INFO:  Total Cooling Thermal Energy [MWht]: 161.01
INFO:  Maximum district cooling mass flow rate [kg/s]: 27.01
INFO: 
 Loading Weaver...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 149.35
INFO:  Total Electric Energy [MWh]: 528.39
INFO:  Peak Cooling Thermal Load [kWt]: 216.16
INFO:  Total Cooling Thermal Energy [MWht]: 203.81
INFO:  Maximum district cooling mass flow rate [kg/s]: 8.24
INFO: buildings.p and plant_loops.p saved to workspace folder
INFO: 
 **Performing the plant loop pre-processor**
INFO: 
 Loading CP6...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 6 per hour
INFO:  Peak Electric Demand [kW]: 726.21
INFO:  Total Electric Energy [MWh]: 1999.04
INFO:  Chillers found: 1
INFO:  Timestep data for optional variable 'Chiller Evaporator Outlet Temperature [C]' was not found in the .eso
INFO:  Assuming a chilled water loop temperature of 6.67 [C] (44 [F])
INFO: 
 Loading CP7...
INFO: ...completed
INFO:  Building simulation data is of greater precision than the optimization timestep; data will be aggregated and averaged
INFO:  Detected simulation timestep: 12 per hour
INFO:  Peak Electric Demand [kW]: 371.84
INFO:  Total Electric Energy [MWh]: 869.8
INFO:  Chillers found: 1
INFO:  Timestep data for optional variable 'Chiller Evaporator Outlet Temperature [C]' was not found in the .eso
INFO:  Assuming a chilled water loop temperature of 6.67 [C] (44 [F])
INFO: buildings.p and plant_loops.p saved to workspace folder
INFO: 
 **Performing the performance curve pre-processor**
INFO: 
 Processing plant loop: CP6
INFO: Processing chiller: CHILLER - WATER COOLED
INFO: Chiller data loaded from C:\GitHub\ctes_opt\mines_example/district_sim\CP6_chiller0.dat
WARNING:  The capacity as a function of temperature curve for chiller 'CHILLER - WATER COOLED' does not extend below freezing. The curve will be extrapolated by this script. Users must verify the validity of this assumption.
WARNING:  The EIR as a function of temperature curve for chiller 'CHILLER - WATER COOLED' does not extend below  freezing. The curve will be extrapolated by this script. Users must verify the validity of this assumption.
INFO:  Building segmented chiller load reduction curve (Discharge)
INFO: 
 Processing plant loop: CP7
INFO: Processing chiller: CHILLER - WATER COOLED
INFO: Chiller data loaded from C:\GitHub\ctes_opt\mines_example/district_sim\CP7_chiller0.dat
WARNING:  The capacity as a function of temperature curve for chiller 'CHILLER - WATER COOLED' does not extend below freezing. The curve will be extrapolated by this script. Users must verify the validity of this assumption.
WARNING:  The EIR as a function of temperature curve for chiller 'CHILLER - WATER COOLED' does not extend below  freezing. The curve will be extrapolated by this script. Users must verify the validity of this assumption.
INFO:  Building segmented chiller load reduction curve (Discharge)
INFO: 
 *Performing the thermal storage preprocessor*
INFO:  Processing CTES model performance at plant 'CP6' and chiller 'CHILLER - WATER COOLED'
INFO:  Selected ice tank: CALMAC 1190C, 162 ton-hours nominal
INFO: {'name': '1190C', 'capacity': 570000, 'model': 'simple', 'melt': 'internal', 'cost': 22690, 'T_fz': 0}
INFO:  Processing CTES model performance at plant 'CP7' and chiller 'CHILLER - WATER COOLED'
INFO:  Selected ice tank: CALMAC 1190C, 162 ton-hours nominal
INFO: {'name': '1190C', 'capacity': 570000, 'model': 'simple', 'melt': 'internal', 'cost': 22690, 'T_fz': 0}
INFO: 
 *Creating electricity rate*
INFO:  Energy charges are time-variant over the year: True
INFO:  Demand charges are present: True
INFO:  Demand response events are signaled via TOU energy charges
INFO:  10 different energy charge values were used
INFO:  12 demand periods were created
INFO: 
 *Writing parameter files for solver*
INFO:  Aggregating cooling and electricity values for community
INFO:  Writing time-invariant parameters to 'fixed_params.dat'
INFO:  Successfully wrote 3 lists to file 'Tsets1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'l1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'p_tildeN1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'q_dotX1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'lambdaX1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'q_dotIY1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 lists to file 'lambdaY1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 lists to file 'y_bar1.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'p_tilde.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'cost_elec.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 12 lists to file 'Tdmd.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 72 values to file 'Tdr.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 3 lists to file 'Tsets2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'l2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'p_tildeN2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'q_dotX2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'lambdaX2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'q_dotIY2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 lists to file 'lambdaY2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 lists to file 'y_bar2.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'p_tilde.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 8760 values to file 'cost_elec.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 12 lists to file 'Tdmd.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO:  Successfully wrote 72 values to file 'Tdr.dat' in 'C:\GitHub\ctes_opt\mines_example/ampl_files'
INFO: 
 *Calculating baseline electricity costs before optimization*
INFO: 
 *Writing baseline energy/cost summary files*
INFO:  Successfully wrote 8 lists to file 'baseline.csv' in 'C:\GitHub\ctes_opt\mines_example/results'
INFO: Writing keys for dictionary 'community' in workspace folder
INFO: Writing keys for dictionary 'plant_loops' in workspace folder
INFO: Writing keys for dictionary 'buildings' in workspace folder
INFO: Writing keys for dictionary 'erates' in workspace folder
INFO: buildings_final.p, plant_loops_final.p, community_final.py and erates_final.p saved to workspace folder
INFO: 
 *Making baseline figures*
INFO: 
 *Transfer script found. Executing scp to remote server*
